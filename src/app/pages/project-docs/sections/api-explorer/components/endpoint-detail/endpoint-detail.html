<div class="card p-8">
  <!-- Header -->
  <div class="flex items-start justify-between mb-6">
    <div class="flex-1">
      <div class="flex items-center gap-3 mb-3">
        <span
          [ngClass]="getMethodColor(endpoint().method)"
          class="px-4 py-2 font-bold text-sm rounded-lg uppercase"
        >
          {{ endpoint().method }}
        </span>
        @if (endpoint().authenticated) {
        <span class="badge badge-gray" title="Requires authentication">ðŸ”’ Authenticated</span>
        }
      </div>
      <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-2 font-mono">
        {{ endpoint().path }}
      </h2>
      <p class="text-lg text-gray-600 dark:text-gray-400">
        {{ endpoint().summary }}
      </p>
    </div>
  </div>

  <!-- Description -->
  <div class="mb-6 pb-6 border-b border-gray-200 dark:border-gray-800">
    <p class="text-gray-600 dark:text-gray-400 leading-relaxed">
      {{ endpoint().description }}
    </p>
  </div>

  <!-- Rate Limit -->
  <div
    class="flex items-center gap-2 p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800 mb-6"
  >
    <svg
      class="w-5 h-5 text-yellow-600 dark:text-yellow-400"
      fill="none"
      stroke="currentColor"
      viewBox="0 0 24 24"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"
      />
    </svg>
    <span class="text-sm font-medium text-yellow-900 dark:text-yellow-100">
      Rate Limit: {{ endpoint().rateLimit }} requests per minute
    </span>
  </div>

  <!-- Parameters -->
  @if (endpoint().parameters && endpoint().parameters?.length) {
  <div class="mb-6">
    <h3 class="text-lg font-bold text-gray-900 dark:text-white mb-4">Parameters</h3>
    <div class="space-y-3">
      <div
        *ngFor="let param of endpoint().parameters"
        class="p-4 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-800"
      >
        <div class="flex items-start justify-between mb-2">
          <div class="flex items-center gap-2">
            <span class="font-mono font-semibold text-gray-900 dark:text-white">
              {{ param.name }}
            </span>
            @if (param.required) { <span class="badge badge-error text-xs">Required</span> }
            <span class="badge badge-gray text-xs">{{ param.in }}</span>
          </div>
          <span class="text-sm text-blue-600 dark:text-blue-400 font-mono">
            {{ param.type }}
          </span>
        </div>
        <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">
          {{ param.description }}
        </p>
        @if (param.example) {
        <div class="mt-2">
          <div class="text-xs text-gray-500 dark:text-gray-400 mb-1">Example:</div>
          <code class="text-xs bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded">
            {{ param.example }}
          </code>
        </div>
        }
      </div>
    </div>
  </div>
  }

  <!-- Request Body -->
  @if (endpoint().requestBody) {
  <div class="mb-6">
    <h3 class="text-lg font-bold text-gray-900 dark:text-white mb-4">Request Body</h3>
    <div class="code-block">
      <div class="code-header">
        <span class="text-sm text-gray-400">{{ endpoint().requestBody?.contentType }}</span>
        <button class="btn-icon text-gray-400 hover:text-white">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
            />
          </svg>
        </button>
      </div>
      <pre class="code-content"><code>{{ endpoint().requestBody?.example| json }}</code></pre>
    </div>
  </div>
  }
</div>
