<div class="card p-8">
  <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-6">Send Me a Message</h2>

  <!-- Success Message -->
  @if (submitSuccess) {
  <div
    class="mb-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg flex items-start gap-3 animate-slide-down"
  >
    <svg
      class="w-6 h-6 text-green-600 dark:text-green-400 flex-shrink-0"
      fill="none"
      stroke="currentColor"
      viewBox="0 0 24 24"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
      />
    </svg>
    <div>
      <h3 class="font-bold text-green-900 dark:text-green-100 mb-1">Message Sent!</h3>
      <p class="text-sm text-green-700 dark:text-green-300">
        I'll get back to you within 24 hours.
      </p>
    </div>
  </div>
  }

  <!-- Error Message -->
  @if (submitError) {
  <div
    class="mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-start gap-3"
  >
    <svg
      class="w-6 h-6 text-red-600 dark:text-red-400 flex-shrink-0"
      fill="none"
      stroke="currentColor"
      viewBox="0 0 24 24"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
      />
    </svg>
    <div>
      <h3 class="font-bold text-red-900 dark:text-red-100 mb-1">Something went wrong</h3>
      <p class="text-sm text-red-700 dark:text-red-300">Please try again or email me directly.</p>
    </div>
  </div>
  }

  <form (ngSubmit)="onSubmit()" class="space-y-6">
    <!-- Name -->
    <div>
      <label for="name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
        Your Name *
      </label>
      <input
        type="text"
        id="name"
        [(ngModel)]="formData.name"
        name="name"
        required
        class="input"
        placeholder="John Doe"
      />
    </div>

    <!-- Email -->
    <div>
      <label for="email" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
        Email Address *
      </label>
      <input
        type="email"
        id="email"
        [(ngModel)]="formData.email"
        name="email"
        required
        class="input"
        placeholder="john@example.com"
      />
    </div>

    <!-- Subject -->
    <div>
      <label for="subject" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
        Subject *
      </label>
      <input
        type="text"
        id="subject"
        [(ngModel)]="formData.subject"
        name="subject"
        required
        class="input"
        placeholder="Backend Developer Position"
      />
    </div>
    <!-- Message -->
    <div>
      <label for="message" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
        Message *
      </label>
      <textarea
        id="message"
        [(ngModel)]="formData.message"
        name="message"
        required
        rows="6"
        class="input resize-none"
        placeholder="Tell me about your project, timeline, and what you're looking for..."
      ></textarea>
    </div>

    <!-- Submit Button -->
    <button
      type="submit"
      [disabled]="isSubmitting"
      class="w-full btn-primary flex items-center justify-center gap-2"
    >
      @if (!isSubmitting) {
      <span>Send Message</span>
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M14 5l7 7m0 0l-7 7m7-7H3"
        />
      </svg>
      } @else {
      <span>Sending...</span>
      <svg class="animate-spin w-5 h-5" fill="none" viewBox="0 0 24 24">
        <circle
          class="opacity-25"
          cx="12"
          cy="12"
          r="10"
          stroke="currentColor"
          stroke-width="4"
        ></circle>
        <path
          class="opacity-75"
          fill="currentColor"
          d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
        ></path>
      </svg>
      }
    </button>
  </form>
</div>
